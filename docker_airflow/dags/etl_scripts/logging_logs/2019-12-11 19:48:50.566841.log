2019-12-11 19:48:50,570   DEBUG   hooks      417   _alias_event_name            Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2019-12-11 19:48:50,574   DEBUG   hooks      417   _alias_event_name            Changing event name from before-call.apigateway to before-call.api-gateway
2019-12-11 19:48:50,575   DEBUG   hooks      417   _alias_event_name            Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2019-12-11 19:48:50,578   DEBUG   hooks      417   _alias_event_name            Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2019-12-11 19:48:50,579   DEBUG   hooks      417   _alias_event_name            Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2019-12-11 19:48:50,580   DEBUG   hooks      417   _alias_event_name            Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2019-12-11 19:48:50,582   DEBUG   hooks      417   _alias_event_name            Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2019-12-11 19:48:50,585   DEBUG   hooks      417   _alias_event_name            Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2019-12-11 19:48:50,586   DEBUG   hooks      417   _alias_event_name            Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2019-12-11 19:48:50,586   DEBUG   hooks      417   _alias_event_name            Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2019-12-11 19:48:50,587   DEBUG   hooks      417   _alias_event_name            Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2019-12-11 19:48:50,596   DEBUG   loaders    174   load_file                    Loading JSON file: /usr/local/lib/python3.7/site-packages/boto3/data/s3/2006-03-01/resources-1.json
2019-12-11 19:48:50,608   DEBUG   credentials 1947  load_credentials             Looking for credentials via: env
2019-12-11 19:48:50,609   DEBUG   credentials 1947  load_credentials             Looking for credentials via: assume-role
2019-12-11 19:48:50,609   DEBUG   credentials 1947  load_credentials             Looking for credentials via: assume-role-with-web-identity
2019-12-11 19:48:50,610   DEBUG   credentials 1947  load_credentials             Looking for credentials via: shared-credentials-file
2019-12-11 19:48:50,611   DEBUG   credentials 1947  load_credentials             Looking for credentials via: custom-process
2019-12-11 19:48:50,611   DEBUG   credentials 1947  load_credentials             Looking for credentials via: config-file
2019-12-11 19:48:50,612   DEBUG   credentials 1947  load_credentials             Looking for credentials via: ec2-credentials-file
2019-12-11 19:48:50,612   DEBUG   credentials 1947  load_credentials             Looking for credentials via: boto-config
2019-12-11 19:48:50,612   DEBUG   credentials 1947  load_credentials             Looking for credentials via: container-role
2019-12-11 19:48:50,613   DEBUG   credentials 1947  load_credentials             Looking for credentials via: iam-role
2019-12-11 19:48:50,615   DEBUG   connectionpool 225   _new_conn                    Starting new HTTP connection (1): 169.254.169.254:80
2019-12-11 19:48:51,621   DEBUG   utils      308   _fetch_metadata_token        Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Connect timeout on endpoint URL: "http://169.254.169.254/latest/api/token"
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/connection.py", line 84, in create_connection
    raise err
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/botocore/httpsession.py", line 263, in send
    chunked=self._chunked(request.headers),
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/retry.py", line 376, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.7/site-packages/urllib3/packages/six.py", line 735, in reraise
    raise value
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 125, in _send_request
    method, url, body, headers, *args, **kwargs)
  File "/usr/local/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 152, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 236, in send
    return super(AWSConnection, self).send(str)
  File "/usr/local/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 184, in connect
    conn = self._new_conn()
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<botocore.awsrequest.AWSHTTPConnection object at 0x7f0aa0b845d0>, 'Connection to 169.254.169.254 timed out. (connect timeout=1)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/botocore/utils.py", line 296, in _fetch_metadata_token
    response = self._session.send(request.prepare())
  File "/usr/local/lib/python3.7/site-packages/botocore/httpsession.py", line 287, in send
    raise ConnectTimeoutError(endpoint_url=request.url, error=e)
botocore.exceptions.ConnectTimeoutError: Connect timeout on endpoint URL: "http://169.254.169.254/latest/api/token"
2019-12-11 19:48:51,624   DEBUG   connectionpool 225   _new_conn                    Starting new HTTP connection (2): 169.254.169.254:80
2019-12-11 19:48:51,626   DEBUG   utils      345   _get_request                 Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/iam/security-credentials/: Could not connect to the endpoint URL: "http://169.254.169.254/latest/meta-data/iam/security-credentials/"
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/connection.py", line 84, in create_connection
    raise err
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/botocore/httpsession.py", line 263, in send
    chunked=self._chunked(request.headers),
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.7/site-packages/urllib3/util/retry.py", line 376, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.7/site-packages/urllib3/packages/six.py", line 735, in reraise
    raise value
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 125, in _send_request
    method, url, body, headers, *args, **kwargs)
  File "/usr/local/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 152, in _send_output
    self.send(msg)
  File "/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py", line 236, in send
    return super(AWSConnection, self).send(str)
  File "/usr/local/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 184, in connect
    conn = self._new_conn()
  File "/usr/local/lib/python3.7/site-packages/urllib3/connection.py", line 169, in _new_conn
    self, "Failed to establish a new connection: %s" % e
urllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x7f0aa0b35f50>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/botocore/utils.py", line 339, in _get_request
    response = self._session.send(request.prepare())
  File "/usr/local/lib/python3.7/site-packages/botocore/httpsession.py", line 283, in send
    raise EndpointConnectionError(endpoint_url=request.url, error=e)
botocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: "http://169.254.169.254/latest/meta-data/iam/security-credentials/"
2019-12-11 19:48:51,627   DEBUG   utils      424   retrieve_iam_role_credentials Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.
2019-12-11 19:48:51,628   DEBUG   loaders    174   load_file                    Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/endpoints.json
2019-12-11 19:48:51,634   DEBUG   hooks      210   _emit                        Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f0ab560c200>
2019-12-11 19:48:51,642   DEBUG   loaders    174   load_file                    Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/s3/2006-03-01/service-2.json
2019-12-11 19:48:51,652   DEBUG   hooks      210   _emit                        Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f0ab55f57a0>
2019-12-11 19:48:51,653   DEBUG   hooks      210   _emit                        Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f0aa0e7cef0>
2019-12-11 19:48:51,672   DEBUG   hooks      210   _emit                        Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f0ab55f5560>
2019-12-11 19:48:51,676   DEBUG   endpoint   266   create_endpoint              Setting s3 timeout as (60, 60)
2019-12-11 19:48:51,677   DEBUG   loaders    174   load_file                    Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/_retry.json
2019-12-11 19:48:51,678   DEBUG   client     136   _register_retries            Registering retry handlers for service: s3
2019-12-11 19:48:51,680   DEBUG   factory    66    load_from_definition         Loading s3:s3
2019-12-11 19:48:51,682   DEBUG   factory    66    load_from_definition         Loading s3:Bucket
2019-12-11 19:48:51,683   DEBUG   model      358   _load_name_with_category     Renaming Bucket attribute name
2019-12-11 19:48:51,684   DEBUG   hooks      210   _emit                        Event creating-resource-class.s3.Bucket: calling handler <function lazy_call.<locals>._handler at 0x7f0aa0c20050>
2019-12-11 19:48:51,701   INFO    s3_transformations 28    get_last_time_check_s3_object_resources last row in cron_logs.csv 2842
2019-12-11 19:48:51,707   INFO    s3_transformations 31    get_last_time_check_s3_object_resources last_checked_s3_time_datetime in cron_logs.csv 2019-12-08 18:18:01.546475
2019-12-11 19:48:51,716   DEBUG   loaders    174   load_file                    Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/s3/2006-03-01/paginators-1.json
2019-12-11 19:48:51,716   DEBUG   collection 152   pages                        Calling paginated s3:list_objects with {'Bucket': 'horsing-around-bucket', 'Prefix': 'web-data/raw/'}
2019-12-11 19:48:51,717   DEBUG   hooks      210   _emit                        Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f0ab55bee60>
2019-12-11 19:48:51,718   DEBUG   hooks      210   _emit                        Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f0ab55bab90>
2019-12-11 19:48:51,718   DEBUG   hooks      210   _emit                        Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f0aa0261d50>>
2019-12-11 19:48:51,719   DEBUG   hooks      210   _emit                        Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f0aa02aa650>>
2019-12-11 19:48:51,719   DEBUG   hooks      210   _emit                        Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f0ab55ba7a0>
2019-12-11 19:48:51,720   DEBUG   hooks      210   _emit                        Event before-call.s3.ListObjects: calling handler <function add_expect_header at 0x7f0ab55baef0>
2019-12-11 19:48:51,720   DEBUG   hooks      210   _emit                        Event before-call.s3.ListObjects: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f0aa0261d50>>
2019-12-11 19:48:51,721   DEBUG   hooks      210   _emit                        Event before-call.s3.ListObjects: calling handler <function inject_api_version_header_if_needed at 0x7f0ab55bf290>
2019-12-11 19:48:51,721   DEBUG   endpoint   101   make_request                 Making request for OperationModel(name=ListObjects) with params: {'url_path': '/horsing-around-bucket', 'query_string': {'prefix': 'web-data/raw/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.10.36 Python/3.7.5 Linux/4.9.184-linuxkit Botocore/1.13.36 Resource'}, 'body': b'', 'url': 'https://s3.amazonaws.com/horsing-around-bucket?prefix=web-data%2Fraw%2F&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f0aa0954d90>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'horsing-around-bucket'}}}
2019-12-11 19:48:51,722   DEBUG   hooks      210   _emit                        Event request-created.s3.ListObjects: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f0aa0954d10>>
2019-12-11 19:48:51,722   DEBUG   hooks      210   _emit                        Event choose-signer.s3.ListObjects: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f0aa0c0d250>>
2019-12-11 19:48:51,722   DEBUG   hooks      210   _emit                        Event choose-signer.s3.ListObjects: calling handler <function set_operation_specific_signer at 0x7f0ab55ba680>
2019-12-11 19:48:51,723   DEBUG   hooks      210   _emit                        Event before-sign.s3.ListObjects: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f0aa0266650>>
2019-12-11 19:48:51,723   DEBUG   utils      1560  _s3_addressing_handler       Defaulting to S3 virtual host style addressing with path style addressing fallback.
2019-12-11 19:48:51,723   DEBUG   utils      990   switch_to_virtual_host_style Checking for DNS compatible bucket for: https://s3.amazonaws.com/horsing-around-bucket?prefix=web-data%2Fraw%2F&encoding-type=url
2019-12-11 19:48:51,724   DEBUG   utils      1008  switch_to_virtual_host_style URI updated to: https://horsing-around-bucket.s3.amazonaws.com/?prefix=web-data%2Fraw%2F&encoding-type=url
